<template>
    <div class="page">

        <div class="navbar" style="height: 72px;">
            <div class="navbar-inner">
                <img class="theme-light-only" src="assets/custom/img/wokppllogo.png" height="60px" alt="" />
            </div>
        </div>

        <div class="page-content">
            {{#if listQuestion}}
            <div class="block-title">{{listQuestion.title}}</div>
            {{#each listQuestion.questions}}
            <div class="card">
                <div class="card-content card-content-padding">
                    <p>{{this.question}}</p>
                    {{#js_if "this.questionType=='2'"}}
                    {{#if this.answerOptions}}
                    {{#each this.answerOptions}}
                    <p>
                        <label class="radio">
                            <input type="radio" name="name" />
                            <i class="icon-radio"></i>
                        </label>
                        <span>{{this.content}}&nbsp;</span>
                    </p>

                    {{/each}}
                    {{/if}}
                    {{else}}
                    {{#js_if "this.questionType=='1'"}}
                    <div class="item-input-wrap">
                        <textarea class="resizable" style="height: 50px;"></textarea>
                    </div>
                    {{else}}
                    {{#js_if "this.questionType=='3'"}}
                    {{#if this.answerOptions}}
                    {{#each this.answerOptions}}
                    <p>
                        <label class="checkbox">
                            <input type="checkbox" name="checkbox" />
                            <i class="icon-checkbox"></i>
                        </label>
                        <span>{{this.content}}</span>
                    </p>
                    {{/each}}
                    {{/if}}
                    {{else}}
                    <div class="item-input-wrap">
                        <input type="text" />
                        <span class="input-clear-button"></span>
                    </div>
                    {{/js_if}}
                    {{/js_if}}
                    {{/js_if}}
                </div>
            </div>
            {{/each}}
            {{/if}}
        </div>
    </div>
</template>

<script>
    return {
        data: function () {
            return {
                listQuestion: null
            }
        },
        methods: {
            loadData: function () {
                var self = this;
                app.request.json('assets/custom/dataset/survey.json',
                    function (suc) {
                        console.log('suc', suc);
                        self.$setState({
                            listQuestion: suc.result
                        })
                    },
                    function (err) {
                        console.log(err)
                    })
            }
        },
        on: {
            pageInit: function () {
                var self = this;
                self.loadData();
            }
        }
    }